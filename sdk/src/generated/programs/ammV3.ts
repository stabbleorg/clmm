/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
  containsBytes,
  fixEncoderSize,
  getBytesEncoder,
  type Address,
  type ReadonlyUint8Array,
} from '@solana/kit';
import {
  type ParsedClosePositionInstruction,
  type ParsedCloseProtocolPositionInstruction,
  type ParsedCollectFundFeeInstruction,
  type ParsedCollectProtocolFeeInstruction,
  type ParsedCollectRemainingRewardsInstruction,
  type ParsedCreateAmmConfigInstruction,
  type ParsedCreateOperationAccountInstruction,
  type ParsedCreatePoolInstruction,
  type ParsedCreateSupportMintAssociatedInstruction,
  type ParsedDecreaseLiquidityV2Instruction,
  type ParsedIdlIncludeInstruction,
  type ParsedIncreaseLiquidityV2Instruction,
  type ParsedInitializeRewardInstruction,
  type ParsedOpenPositionWithToken22NftInstruction,
  type ParsedSetRewardParamsInstruction,
  type ParsedSwapRouterBaseInInstruction,
  type ParsedSwapV2Instruction,
  type ParsedTransferRewardOwnerInstruction,
  type ParsedUpdateAmmConfigInstruction,
  type ParsedUpdateOperationAccountInstruction,
  type ParsedUpdatePoolStatusInstruction,
  type ParsedUpdateRewardInfosInstruction,
} from '../instructions';

export const AMM_V3_PROGRAM_ADDRESS =
  '6dMXqGZ3ga2dikrYS9ovDXgHGh5RUsb2RTUj6hrQXhk6' as Address<'6dMXqGZ3ga2dikrYS9ovDXgHGh5RUsb2RTUj6hrQXhk6'>;

export enum AmmV3Account {
  AmmConfig,
  DynamicTickArray,
  ObservationState,
  OperationState,
  PersonalPositionState,
  PoolState,
  ProtocolPositionState,
  SupportMintAssociated,
  TickArrayBitmapExtension,
}

export function identifyAmmV3Account(
  account: { data: ReadonlyUint8Array } | ReadonlyUint8Array
): AmmV3Account {
  const data = 'data' in account ? account.data : account;
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([218, 244, 33, 104, 203, 203, 43, 111])
      ),
      0
    )
  ) {
    return AmmV3Account.AmmConfig;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([17, 216, 246, 142, 225, 199, 218, 56])
      ),
      0
    )
  ) {
    return AmmV3Account.DynamicTickArray;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([122, 174, 197, 53, 129, 9, 165, 132])
      ),
      0
    )
  ) {
    return AmmV3Account.ObservationState;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([19, 236, 58, 237, 81, 222, 183, 252])
      ),
      0
    )
  ) {
    return AmmV3Account.OperationState;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([70, 111, 150, 126, 230, 15, 25, 117])
      ),
      0
    )
  ) {
    return AmmV3Account.PersonalPositionState;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([247, 237, 227, 245, 215, 195, 222, 70])
      ),
      0
    )
  ) {
    return AmmV3Account.PoolState;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([100, 226, 145, 99, 146, 218, 160, 106])
      ),
      0
    )
  ) {
    return AmmV3Account.ProtocolPositionState;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([134, 40, 183, 79, 12, 112, 162, 53])
      ),
      0
    )
  ) {
    return AmmV3Account.SupportMintAssociated;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([60, 150, 36, 219, 97, 128, 139, 153])
      ),
      0
    )
  ) {
    return AmmV3Account.TickArrayBitmapExtension;
  }
  throw new Error(
    'The provided account could not be identified as a ammV3 account.'
  );
}

export enum AmmV3Instruction {
  ClosePosition,
  CloseProtocolPosition,
  CollectFundFee,
  CollectProtocolFee,
  CollectRemainingRewards,
  CreateAmmConfig,
  CreateOperationAccount,
  CreatePool,
  CreateSupportMintAssociated,
  DecreaseLiquidityV2,
  IdlInclude,
  IncreaseLiquidityV2,
  InitializeReward,
  OpenPositionWithToken22Nft,
  SetRewardParams,
  SwapRouterBaseIn,
  SwapV2,
  TransferRewardOwner,
  UpdateAmmConfig,
  UpdateOperationAccount,
  UpdatePoolStatus,
  UpdateRewardInfos,
}

export function identifyAmmV3Instruction(
  instruction: { data: ReadonlyUint8Array } | ReadonlyUint8Array
): AmmV3Instruction {
  const data = 'data' in instruction ? instruction.data : instruction;
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([123, 134, 81, 0, 49, 68, 98, 98])
      ),
      0
    )
  ) {
    return AmmV3Instruction.ClosePosition;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([201, 117, 152, 144, 85, 85, 108, 178])
      ),
      0
    )
  ) {
    return AmmV3Instruction.CloseProtocolPosition;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([167, 138, 78, 149, 223, 194, 6, 126])
      ),
      0
    )
  ) {
    return AmmV3Instruction.CollectFundFee;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([136, 136, 252, 221, 194, 66, 126, 89])
      ),
      0
    )
  ) {
    return AmmV3Instruction.CollectProtocolFee;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([18, 237, 166, 197, 34, 16, 213, 144])
      ),
      0
    )
  ) {
    return AmmV3Instruction.CollectRemainingRewards;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([137, 52, 237, 212, 215, 117, 108, 104])
      ),
      0
    )
  ) {
    return AmmV3Instruction.CreateAmmConfig;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([63, 87, 148, 33, 109, 35, 8, 104])
      ),
      0
    )
  ) {
    return AmmV3Instruction.CreateOperationAccount;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([233, 146, 209, 142, 207, 104, 64, 188])
      ),
      0
    )
  ) {
    return AmmV3Instruction.CreatePool;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([17, 251, 65, 92, 136, 242, 14, 169])
      ),
      0
    )
  ) {
    return AmmV3Instruction.CreateSupportMintAssociated;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([58, 127, 188, 62, 79, 82, 196, 96])
      ),
      0
    )
  ) {
    return AmmV3Instruction.DecreaseLiquidityV2;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([223, 253, 121, 121, 60, 193, 129, 31])
      ),
      0
    )
  ) {
    return AmmV3Instruction.IdlInclude;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([133, 29, 89, 223, 69, 238, 176, 10])
      ),
      0
    )
  ) {
    return AmmV3Instruction.IncreaseLiquidityV2;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([95, 135, 192, 196, 242, 129, 230, 68])
      ),
      0
    )
  ) {
    return AmmV3Instruction.InitializeReward;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([77, 255, 174, 82, 125, 29, 201, 46])
      ),
      0
    )
  ) {
    return AmmV3Instruction.OpenPositionWithToken22Nft;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([112, 52, 167, 75, 32, 201, 211, 137])
      ),
      0
    )
  ) {
    return AmmV3Instruction.SetRewardParams;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([69, 125, 115, 218, 245, 186, 242, 196])
      ),
      0
    )
  ) {
    return AmmV3Instruction.SwapRouterBaseIn;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([43, 4, 237, 11, 26, 201, 30, 98])
      ),
      0
    )
  ) {
    return AmmV3Instruction.SwapV2;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([7, 22, 12, 83, 242, 43, 48, 121])
      ),
      0
    )
  ) {
    return AmmV3Instruction.TransferRewardOwner;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([49, 60, 174, 136, 154, 28, 116, 200])
      ),
      0
    )
  ) {
    return AmmV3Instruction.UpdateAmmConfig;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([127, 70, 119, 40, 188, 227, 61, 7])
      ),
      0
    )
  ) {
    return AmmV3Instruction.UpdateOperationAccount;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([130, 87, 108, 6, 46, 224, 117, 123])
      ),
      0
    )
  ) {
    return AmmV3Instruction.UpdatePoolStatus;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([163, 172, 224, 52, 11, 154, 106, 223])
      ),
      0
    )
  ) {
    return AmmV3Instruction.UpdateRewardInfos;
  }
  throw new Error(
    'The provided instruction could not be identified as a ammV3 instruction.'
  );
}

export type ParsedAmmV3Instruction<
  TProgram extends string = '6dMXqGZ3ga2dikrYS9ovDXgHGh5RUsb2RTUj6hrQXhk6',
> =
  | ({
      instructionType: AmmV3Instruction.ClosePosition;
    } & ParsedClosePositionInstruction<TProgram>)
  | ({
      instructionType: AmmV3Instruction.CloseProtocolPosition;
    } & ParsedCloseProtocolPositionInstruction<TProgram>)
  | ({
      instructionType: AmmV3Instruction.CollectFundFee;
    } & ParsedCollectFundFeeInstruction<TProgram>)
  | ({
      instructionType: AmmV3Instruction.CollectProtocolFee;
    } & ParsedCollectProtocolFeeInstruction<TProgram>)
  | ({
      instructionType: AmmV3Instruction.CollectRemainingRewards;
    } & ParsedCollectRemainingRewardsInstruction<TProgram>)
  | ({
      instructionType: AmmV3Instruction.CreateAmmConfig;
    } & ParsedCreateAmmConfigInstruction<TProgram>)
  | ({
      instructionType: AmmV3Instruction.CreateOperationAccount;
    } & ParsedCreateOperationAccountInstruction<TProgram>)
  | ({
      instructionType: AmmV3Instruction.CreatePool;
    } & ParsedCreatePoolInstruction<TProgram>)
  | ({
      instructionType: AmmV3Instruction.CreateSupportMintAssociated;
    } & ParsedCreateSupportMintAssociatedInstruction<TProgram>)
  | ({
      instructionType: AmmV3Instruction.DecreaseLiquidityV2;
    } & ParsedDecreaseLiquidityV2Instruction<TProgram>)
  | ({
      instructionType: AmmV3Instruction.IdlInclude;
    } & ParsedIdlIncludeInstruction<TProgram>)
  | ({
      instructionType: AmmV3Instruction.IncreaseLiquidityV2;
    } & ParsedIncreaseLiquidityV2Instruction<TProgram>)
  | ({
      instructionType: AmmV3Instruction.InitializeReward;
    } & ParsedInitializeRewardInstruction<TProgram>)
  | ({
      instructionType: AmmV3Instruction.OpenPositionWithToken22Nft;
    } & ParsedOpenPositionWithToken22NftInstruction<TProgram>)
  | ({
      instructionType: AmmV3Instruction.SetRewardParams;
    } & ParsedSetRewardParamsInstruction<TProgram>)
  | ({
      instructionType: AmmV3Instruction.SwapRouterBaseIn;
    } & ParsedSwapRouterBaseInInstruction<TProgram>)
  | ({
      instructionType: AmmV3Instruction.SwapV2;
    } & ParsedSwapV2Instruction<TProgram>)
  | ({
      instructionType: AmmV3Instruction.TransferRewardOwner;
    } & ParsedTransferRewardOwnerInstruction<TProgram>)
  | ({
      instructionType: AmmV3Instruction.UpdateAmmConfig;
    } & ParsedUpdateAmmConfigInstruction<TProgram>)
  | ({
      instructionType: AmmV3Instruction.UpdateOperationAccount;
    } & ParsedUpdateOperationAccountInstruction<TProgram>)
  | ({
      instructionType: AmmV3Instruction.UpdatePoolStatus;
    } & ParsedUpdatePoolStatusInstruction<TProgram>)
  | ({
      instructionType: AmmV3Instruction.UpdateRewardInfos;
    } & ParsedUpdateRewardInfosInstruction<TProgram>);
