/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
  combineCodec,
  getAddressDecoder,
  getAddressEncoder,
  getBooleanDecoder,
  getBooleanEncoder,
  getI32Decoder,
  getI32Encoder,
  getStructDecoder,
  getStructEncoder,
  getU128Decoder,
  getU128Encoder,
  getU64Decoder,
  getU64Encoder,
  type Address,
  type FixedSizeCodec,
  type FixedSizeDecoder,
  type FixedSizeEncoder,
} from '@solana/kit';

/** Emitted by when a swap is performed for a pool */
export type SwapEvent = {
  /** The pool for which token_0 and token_1 were swapped */
  poolState: Address;
  /** The address that initiated the swap call, and that received the callback */
  sender: Address;
  /**
   * The payer token account in zero for one swaps, or the recipient token account
   * in one for zero swaps
   */
  tokenAccount0: Address;
  /**
   * The payer token account in one for zero swaps, or the recipient token account
   * in zero for one swaps
   */
  tokenAccount1: Address;
  /** The real delta amount of the token_0 of the pool or user */
  amount0: bigint;
  /** The transfer fee charged by the withheld_amount of the token_0 */
  transferFee0: bigint;
  /** The real delta of the token_1 of the pool or user */
  amount1: bigint;
  /** The transfer fee charged by the withheld_amount of the token_1 */
  transferFee1: bigint;
  /** if true, amount_0 is negtive and amount_1 is positive */
  zeroForOne: boolean;
  /** The sqrt(price) of the pool after the swap, as a Q64.64 */
  sqrtPriceX64: bigint;
  /** The liquidity of the pool after the swap */
  liquidity: bigint;
  /** The log base 1.0001 of price of the pool after the swap */
  tick: number;
};

export type SwapEventArgs = {
  /** The pool for which token_0 and token_1 were swapped */
  poolState: Address;
  /** The address that initiated the swap call, and that received the callback */
  sender: Address;
  /**
   * The payer token account in zero for one swaps, or the recipient token account
   * in one for zero swaps
   */
  tokenAccount0: Address;
  /**
   * The payer token account in one for zero swaps, or the recipient token account
   * in zero for one swaps
   */
  tokenAccount1: Address;
  /** The real delta amount of the token_0 of the pool or user */
  amount0: number | bigint;
  /** The transfer fee charged by the withheld_amount of the token_0 */
  transferFee0: number | bigint;
  /** The real delta of the token_1 of the pool or user */
  amount1: number | bigint;
  /** The transfer fee charged by the withheld_amount of the token_1 */
  transferFee1: number | bigint;
  /** if true, amount_0 is negtive and amount_1 is positive */
  zeroForOne: boolean;
  /** The sqrt(price) of the pool after the swap, as a Q64.64 */
  sqrtPriceX64: number | bigint;
  /** The liquidity of the pool after the swap */
  liquidity: number | bigint;
  /** The log base 1.0001 of price of the pool after the swap */
  tick: number;
};

export function getSwapEventEncoder(): FixedSizeEncoder<SwapEventArgs> {
  return getStructEncoder([
    ['poolState', getAddressEncoder()],
    ['sender', getAddressEncoder()],
    ['tokenAccount0', getAddressEncoder()],
    ['tokenAccount1', getAddressEncoder()],
    ['amount0', getU64Encoder()],
    ['transferFee0', getU64Encoder()],
    ['amount1', getU64Encoder()],
    ['transferFee1', getU64Encoder()],
    ['zeroForOne', getBooleanEncoder()],
    ['sqrtPriceX64', getU128Encoder()],
    ['liquidity', getU128Encoder()],
    ['tick', getI32Encoder()],
  ]);
}

export function getSwapEventDecoder(): FixedSizeDecoder<SwapEvent> {
  return getStructDecoder([
    ['poolState', getAddressDecoder()],
    ['sender', getAddressDecoder()],
    ['tokenAccount0', getAddressDecoder()],
    ['tokenAccount1', getAddressDecoder()],
    ['amount0', getU64Decoder()],
    ['transferFee0', getU64Decoder()],
    ['amount1', getU64Decoder()],
    ['transferFee1', getU64Decoder()],
    ['zeroForOne', getBooleanDecoder()],
    ['sqrtPriceX64', getU128Decoder()],
    ['liquidity', getU128Decoder()],
    ['tick', getI32Decoder()],
  ]);
}

export function getSwapEventCodec(): FixedSizeCodec<SwapEventArgs, SwapEvent> {
  return combineCodec(getSwapEventEncoder(), getSwapEventDecoder());
}
